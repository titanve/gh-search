{"version":3,"sources":["components/Users/UserItem.js","components/Users/Users.js","App.js","reportWebVitals.js","index.js"],"names":["UserItem","user","className","name","href","html_url","target","rel","login","bio","followers","following","stars","starred","alt","avatar_url","src","buttonStyles","border","background","fontSize","padding","margin","width","Users","users","React","useState","items","setItems","useEffect","newitems","map","i","length","itemsperpage","pagesspan","UsersPagination","nocolumns","getBackButtonProps","getFastBackButtonProps","getFwdButtonProps","getFastFwdButtonProps","getSelPageButtonProps","inipagearray","nopages","pagesforarray","currentpage","noitems","initialitem","lastitem","goBackBdisabled","goFastBackBdisabled","goFwdBdisabled","goFastFwdBdisabled","style","listStyle","slice","item","disabled","Array","from","v","page","App","search","setSearch","results","setResults","usersData","setUsersData","totalCount","setTotalCount","appState","setAppState","timerIdRef","useRef","ghSearch","a","fetch","method","mode","headers","Authorization","response","json","res","console","log","error","ghUserSearch","ghUserStarred","ghUserStars","newstars","forEach","repo","stargazers_count","hasContent","datum","current","setTimeout","clearTimeout","processUserData","newarr","element","newuserdata","push","value","onChange","e","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ee1891a8.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./UserItem.css\";\n\nconst UserItem = ({ user }) => {\n  return (\n    <li className=\"UserItem-item-container\">\n      <div className=\"UserItem-info-block\">\n        <div className=\"UserItem-user-info\">\n          <span>\n            {user.name}\n            <a\n              className=\"UserItem-link\"\n              href={user.html_url}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              {user.login}\n            </a>\n          </span>\n          <span>{user.bio}</span>\n          <span>Followers: {user.followers}</span>\n          <span>Following: {user.following}</span>\n          <span>Stars: {user.stars}</span>\n          <span>Starred: {user.starred}</span>\n        </div>\n        <div className=\"UserItem-avatar\">\n          <img\n            className=\"UserItem-img-responsive\"\n            alt={user.avatar_url}\n            src={user.avatar_url}\n          />\n        </div>\n      </div>\n    </li>\n  );\n};\n\nexport { UserItem };\n","import React from \"react\";\nimport { UserItem } from \"./UserItem\";\nimport ReactNextPaging from \"react-next-paging\";\n\nconst buttonStyles = {\n  border: \"1px solid #ccc\",\n  background: \"#fff\",\n  fontSize: \"1em\",\n  padding: 10,\n  margin: 5,\n  width: 70,\n};\n\nconst Users = ({ users }) => {\n  const [items, setItems] = React.useState([]);\n\n  React.useEffect(() => {\n    const newitems = users.map((user, i) => {\n      return <UserItem key={i} user={user} />;\n    });\n    setItems(newitems);\n  }, [users]);\n\n  return (\n    <>\n      {users.length > 0 ? (\n        <UsersPagination itemsperpage={5} items={items} pagesspan={4} />\n      ) : null}\n    </>\n  );\n};\n\nconst UsersPagination = ({ itemsperpage, nocolumns = 0, items, pagesspan }) => {\n  return (\n    <ReactNextPaging\n      itemsperpage={itemsperpage}\n      nocolumns={nocolumns}\n      items={items}\n      pagesspan={pagesspan}\n    >\n      {({\n        getBackButtonProps,\n        getFastBackButtonProps,\n        getFwdButtonProps,\n        getFastFwdButtonProps,\n        getSelPageButtonProps,\n        nopages,\n        inipagearray,\n        pagesforarray,\n        currentpage,\n        noitems,\n        initialitem,\n        lastitem,\n        goBackBdisabled,\n        goFastBackBdisabled,\n        goFwdBdisabled,\n        goFastFwdBdisabled,\n      }) => (\n        <ul style={{ listStyle: \"none\" }}>\n          {items.slice(initialitem, lastitem).map((item) => {\n            return item;\n          })}\n          {noitems > 0\n            ? [\n                <li key={\"pagingrow\" + 100}>\n                  <button\n                    style={buttonStyles}\n                    {...getFastBackButtonProps()}\n                    disabled={goFastBackBdisabled}\n                  >\n                    {\"<<\"}\n                  </button>\n                  <button\n                    style={buttonStyles}\n                    {...getBackButtonProps()}\n                    disabled={goBackBdisabled}\n                  >\n                    {\"<\"}\n                  </button>\n                  {Array.from(\n                    { length: pagesforarray },\n                    (v, i) => i + inipagearray\n                  ).map((page) => {\n                    return (\n                      <button\n                        key={page}\n                        {...getSelPageButtonProps({ page: page })}\n                        disabled={currentpage == page}\n                      >\n                        {page}\n                      </button>\n                    );\n                  })}\n                  <button\n                    style={buttonStyles}\n                    {...getFwdButtonProps()}\n                    disabled={goFwdBdisabled}\n                  >\n                    {\">\"}\n                  </button>\n                  <button\n                    style={buttonStyles}\n                    {...getFastFwdButtonProps()}\n                    disabled={goFastFwdBdisabled}\n                  >\n                    {\">>\"}\n                  </button>\n                </li>,\n              ]\n            : null}\n        </ul>\n      )}\n    </ReactNextPaging>\n  );\n};\n\nexport { Users };\n","import React from \"react\";\nimport \"./App.css\";\nimport { Users } from \"./components/Users/Users\";\n\nfunction App() {\n  const [search, setSearch] = React.useState(\"\");\n  const [results, setResults] = React.useState([]);\n  const [usersData, setUsersData] = React.useState([]);\n  const [totalCount, setTotalCount] = React.useState(0);\n  const [appState, setAppState] = React.useState(\"idle\");\n  const timerIdRef = React.useRef(0);\n\n  const ghSearch = async () => {\n    try {\n      const response = await fetch(\n        `https://api.github.com/search/users?q=${search}`,\n        {\n          method: \"GET\",\n          mode: \"cors\",\n          headers: {\n            Authorization: \"token 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\",\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n      const res = await response.json();\n      console.log(\"res\", res);\n      setResults(res.items);\n    } catch (e) {\n      console.error(\"ghSearch\", e);\n      setAppState(\"idle\");\n    }\n  };\n\n  const ghUserSearch = async (user) => {\n    try {\n      const response = await fetch(`https://api.github.com/users/${user}`, {\n        method: \"GET\",\n        mode: \"cors\",\n        headers: {\n          Authorization: \"token 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\",\n          \"Content-Type\": \"application/json\",\n        },\n      });\n      const res = await response.json();\n      return res;\n    } catch (e) {\n      console.error(\"ghUserSearch\", e);\n      setAppState(\"idle\");\n    }\n  };\n\n  const ghUserStarred = async (user) => {\n    try {\n      const response = await fetch(\n        `https://api.github.com/users/${user}/starred`,\n        {\n          method: \"GET\",\n          mode: \"cors\",\n          headers: {\n            Authorization: \"token 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\",\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n      const res = await response.json();\n      return res.length;\n    } catch (e) {\n      console.error(\"ghUserSearch\", e);\n      setAppState(\"idle\");\n    }\n  };\n\n  const ghUserStars = async (user) => {\n    try {\n      const response = await fetch(\n        `https://api.github.com/users/${user}/repos`,\n        {\n          method: \"GET\",\n          mode: \"cors\",\n          headers: {\n            Authorization: \"token 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\",\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n      const res = await response.json();\n      let newstars = 0;\n      res.forEach((repo) => {\n        newstars += repo.stargazers_count;\n      });\n      return newstars;\n    } catch (e) {\n      console.error(\"ghUserSearch\", e);\n      setAppState(\"idle\");\n    }\n  };\n\n  const hasContent = (datum) => datum != null && datum.length > 0;\n\n  React.useEffect(() => {\n    timerIdRef.current = setTimeout(() => {\n      if (hasContent(search)) {\n        setAppState(\"loading\");\n        ghSearch();\n      }\n    }, 800); // 800 ms\n    return () => {\n      clearTimeout(timerIdRef.current);\n      timerIdRef.current = 0;\n    };\n  }, [search]);\n\n  const processUserData = async () => {\n    let newarr = [];\n    for (let i = 0; i < results.length; i++) {\n      const element = results[i];\n      const starred = await ghUserStarred(element.login);\n      const stars = await ghUserStars(element.login);\n      const newuserdata = await ghUserSearch(element.login);\n      newarr.push({ ...newuserdata, starred, stars });\n    }\n    console.log(\"newarr\", newarr);\n    setUsersData(newarr);\n    setAppState(\"idle\");\n  };\n\n  React.useEffect(() => {\n    // console.log(\"results\", results);\n    if (hasContent(results)) {\n      setTotalCount(results.length);\n      processUserData();\n    }\n  }, [results]);\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <span>GitHub Search</span>\n        <div className=\"App-search-block\">\n          <input\n            className=\"App-input-search\"\n            value={search}\n            onChange={(e) => setSearch(e.target.value)}\n          />\n          <span className=\"App-total-count\">Total count: {totalCount}</span>\n          {appState === \"idle\" ? (\n            <Users users={usersData} />\n          ) : appState === \"loading\" ? (\n            <span className=\"App-appstate-loading\">Loading ...</span>\n          ) : null}\n        </div>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}